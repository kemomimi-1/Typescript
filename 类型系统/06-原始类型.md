# TypeScript 原始类型

## 概述
原始类型是 JavaScript 中最基本的数据类型，TypeScript 为它们提供了完整的类型支持。

## 字符串类型 (string)

### 基本用法
```typescript
let firstName: string = "Alice";
let lastName: string = 'Smith';
let message: string = `Hello, ${firstName}!`; // 模板字符串
```

### 字符串方法类型安全
```typescript
let text: string = "hello world";
let upper: string = text.toUpperCase();  // 返回 string
let length: number = text.length;        // 返回 number
```

## 数字类型 (number)

### 整数和浮点数
```typescript
let integer: number = 42;
let float: number = 3.14;
let hex: number = 0x2A;     // 十六进制: 42
let binary: number = 0b101010; // 二进制: 42
let octal: number = 0o52;    // 八进制: 42
```

### 特殊数值
```typescript
let infinity: number = Infinity;
let negativeInfinity: number = -Infinity;
let notANumber: number = NaN;
```

### 数字方法
```typescript
let num: number = 123.456;
let fixed: string = num.toFixed(2); // "123.46"
let precision: string = num.toPrecision(4); // "123.5"
```

## 布尔类型 (boolean)

### 基本用法
```typescript
let isActive: boolean = true;
let isCompleted: boolean = false;
```

### 布尔运算
```typescript
let a: boolean = true;
let b: boolean = false;

let and: boolean = a && b; // false
let or: boolean = a || b;  // true
let not: boolean = !a;     // false
```

## 空类型 (null)

### 表示空值
```typescript
let emptyValue: null = null;
```

### 使用场景
```typescript
function findUser(id: number): User | null {
  // 如果找不到用户，返回 null
  return null;
}
```

## 未定义类型 (undefined)

### 表示未定义的值
```typescript
let undefinedValue: undefined = undefined;
```

### 可选属性
```typescript
interface Config {
  timeout?: number; // 类型为 number | undefined
}

let config: Config = {}; // timeout 是 undefined
```

## 符号类型 (symbol)

### 创建唯一标识符
```typescript
const uniqueKey: symbol = Symbol("description");
const anotherKey: symbol = Symbol("description");

console.log(uniqueKey === anotherKey); // false
```

### 用作对象属性键
```typescript
const ID_KEY: symbol = Symbol("id");

let obj = {
  [ID_KEY]: 123,
  name: "Alice"
};

console.log(obj[ID_KEY]); // 123
```

## 大整数类型 (bigint)

### 表示大整数
```typescript
let bigNumber: bigint = 123456789012345678901234567890n;
let anotherBig: bigint = BigInt("9007199254740991");
```

### 运算操作
```typescript
let a: bigint = 10n;
let b: bigint = 20n;

let sum: bigint = a + b;     // 30n
let product: bigint = a * b; // 200n
```

### 注意事项
```typescript
// 不能混合 bigint 和 number
let num: number = 100;
let big: bigint = 100n;

// console.log(num + big); // 错误
console.log(num + Number(big)); // 需要显式转换
```

## 类型推断

### 原始类型的自动推断
```typescript
let name = "Alice";      // 推断为 string
let age = 25;            // 推断为 number
let isActive = true;     // 推断为 boolean
let empty = null;        // 推断为 null
let notDefined = undefined; // 推断为 undefined
```

## 类型兼容性

### 原始类型之间的兼容性
```typescript
let str: string = "hello";
// let num: number = str; // 错误：不能将类型"string"分配给类型"number"

let num: number = 42;
// let bool: boolean = num; // 错误：不能将类型"number"分配给类型"boolean"
```

### 与 any 的兼容性
```typescript
let anything: any = "hello";
let str: string = anything; // 允许，any 可以赋值给任何类型

let num: number = 42;
anything = num; // 允许，任何类型可以赋值给 any
```

## 类型守卫

### typeof 类型守卫
```typescript
function processValue(value: string | number) {
  if (typeof value === "string") {
    // 这里 value 是 string 类型
    console.log(value.toUpperCase());
  } else {
    // 这里 value 是 number 类型
    console.log(value.toFixed(2));
  }
}
```

## 最佳实践

### 1. 使用明确的类型注解
```typescript
// 好的实践
function calculateArea(radius: number): number {
  return Math.PI * radius * radius;
}
```

### 2. 利用类型推断
```typescript
// 不必要的注解
let count: number = 10;

// 更好的方式
let count = 10;
```

### 3. 处理 null 和 undefined
```typescript
function safeToString(value: string | null | undefined): string {
  return value ?? "default"; // 使用空值合并运算符
}
```

### 4. 使用 const 断言
```typescript
// 字面量类型推断
const direction = "north" as const; // 类型为 "north"
```

## 常见错误

### 1. 混淆 null 和 undefined
```typescript
let value: null = undefined; // 错误
let value: undefined = null; // 错误
```

### 2. bigint 和 number 的混淆
```typescript
let big: bigint = 100n;
let num: number = 100;

// console.log(big + num); // 错误
console.log(Number(big) + num); // 正确
```

### 3. 过度使用 any
```typescript
// 避免这样
let data: any = getData();

// 更好的方式
let data: string = getData();
```

## 练习建议

1. 尝试为不同的原始类型变量添加类型注解
2. 体验类型错误提示
3. 练习使用 typeof 类型守卫
4. 尝试使用 symbol 创建唯一的属性键

---
最后更新: 2025-11-20